/*
	Source:
	van Creij, Maurice (2012). "useful.interactions.js: A library of useful functions to ease working with touch and gestures.", version 20121126, http://www.woollymittens.nl/.

	License:
	This work is licensed under a Creative Commons Attribution 3.0 Unported License.
*/(function(e){"use strict";var t=t||{};t.watch=function(e,n,r){"ontouchstart"in window||"onmsgesturechange"in window?t.touch(e,n,r):t.mouse(e,n,r);("ongesturestart"in window||"onmsgesturestart"in window)&&t.gestures(e,n,r)};t.mouse=function(e,t,n){var r,i,s,o;t=t||{};t.wheel=t.wheel||function(){};t.start=t.start||function(){};t.move=t.move||function(){};t.end=t.end||function(){};n=n||{};r=function(e){n.wheel={y:window.event?window.event.wheelDelta/120:-e.detail/3};t.wheel(n);return!1};e.onmousewheel=r;navigator.userAgent.match(/firefox/gi)&&e.addEventListener("DOMMouseScroll",r,!1);i=function(e){e=e||window.event;n[0]={};n[0].start={x:e.pageX||e.x,y:e.pageY||e.y};t.start(n);return!1};e.addEventListener("mousedown",i);s=function(e){e=e||window.event;if(n[0]&&n[0].start){n[0].move={x:e.pageX||e.x,y:e.pageY||e.y};t.move(n)}return!1};document.addEventListener("mousemove",s);o=function(e){e=e||window.event;n[0]&&(n[0].end={x:e.pageX||e.x,y:e.pageY||e.y});t.end(n);n[0]={};return!1};document.addEventListener("mouseup",o)};t.touch=function(e,t,n){var r,i,s;t=t||{};t.start=t.start||function(){};t.move=t.move||function(){};t.end=t.end||function(){};n=n||{};r=function(e){var r,i,s,o;s=e.touches||[e];for(r=0,i=s.length;r<i;r+=1){o=e.pointerId||r;n[o]={};n[o].start={x:s[r].pageX,y:s[r].pageY};t.start(n)}};e.ontouchstart=r;e.onmspointerdown=r;i=function(e){var r,i,s,o;s=e.touches||[e];for(r=0,i=s.length;r<i;r+=1){o=e.pointerId||r;if(n[o]&&n[o].start){n[o].move={x:s[r].pageX,y:s[r].pageY};t.move(n)}}return!1};e.ontouchmove=i;e.onmspointermove=i;s=function(e){var r,i,s,o;r=e.touches||[e];for(i=0,s=r.length;i<s;i+=1){if(n[o]&&n[o].start){n[o].end={x:r[i].pageX,y:r[i].pageY};t.end(n)}n[o]={}}};e.ontouchend=s;e.onmspointerup=s};t.gestures=function(e,t,n){var r,i,s;t=t||{};t.start=t.start||function(){};t.move=t.move||function(){};t.end=t.end||function(){};n=n||{};r=function(e){n[0]={};n[0].start={rotation:e.rotation,scale:e.scale};t.start(n)};e.ongesturestart=r;e.onmsgesturestart=r;i=function(e){if(n[0]&&n[0].start){n[0].move={rotation:e.rotation,scale:e.scale};t.move(n)}};e.ongesturechange=i;e.onmsgesturechange=i;s=function(e){n[0].end={rotation:e.rotation,scale:e.scale};t.end(n);n[0]={}};e.ongestureend=s;e.onmsmsgestureend=s};e.interactions=e.interactions||{};e.interactions.watch=t.watch;var n=n||{};n.addEventListener=function(){!window.addEventListener&&function(e,t,n,r,i,s,o){e[r]=t[r]=n[r]=function(e,t){var n=this;o.unshift([n,e,t,function(e){e.currentTarget=n;e.preventDefault=function(){e.returnValue=!1};e.stopPropagation=function(){e.cancelBubble=!0};e.target=e.srcElement||n;t.call(n,e)}]);this.attachEvent("on"+e,o[0][3])};e[i]=t[i]=n[i]=function(e,t){for(var n=0,r;r=o[n];++n)if(r[0]==this&&r[1]==e&&r[2]==t)return this.detachEvent("on"+e,o.splice(n,1)[0][3])};e[s]=t[s]=n[s]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])};n.consoleLog=function(){if(!window.console){window.console={};window.console.log=function(){var e,t,n="",r=document.getElementById("reportPanel");if(!r){r=document.createElement("DIV");r.id="reportPanel";r.style.background="#fff none";r.style.border="solid 1px #000";r.style.color="#000";r.style.fontSize="12px";r.style.padding="10px";r.style.position=navigator.userAgent.indexOf("MSIE 6")>-1?"absolute":"fixed";r.style.right="10px";r.style.bottom="10px";r.style.width="180px";r.style.height="320px";r.style.overflow="auto";r.style.zIndex="100000";r.innerHTML="&nbsp;";document.body.appendChild(r)}var i=r.innerHTML.length<1e3?r.innerHTML:r.innerHTML.substring(0,800);for(e=0,t=arguments.length;e<t;e+=1)n+=arguments[e]+"<br/>";r.innerHTML=n+i}}};n.addEventListener();n.consoleLog()})(window.useful=window.useful||{});